{% extends 'base.html' %}
{% block content %}
{% load static%}


<section class="section-content padding-y bg">
    <br>
    <br>
    <br>
    <br>
<div class="container">

<!-- ============================ COMPONENT 1 ================================= -->

<div class="row">
	<aside class="col-lg-6">
<div class="card">
    <form method="POST" action="{% url 'place_order' needed_course_id price lessons   %}"  >
<div class="card-body">
    <h4 class="card-title mb-4">Course Details</h4>

         {%csrf_token%}
<div class="form-row">
<div class="col form-group">
     <label>Country<span style="color:red">  *</span></label>

    <select name="country"  class="form-control" required>


    <option   value="0" class="form-control" selected disabled  >Choose Your country </option>
    <option   value="UAE" class="form-control"  >UAE</option>
    <option   value="KSA" class="form-control"  >KSA</option>
    <option   value="Qatar" class="form-control"  >Qatar</option>
    <option   value="Kuwait" class="form-control"  >Kuwait</option>
    <option   value="else" class="form-control"  >International</option>
    </select>
</div>
    <div class="col form-group">
     <label>City</label>
    <input type="text" name="city" class="form-control" >
    <input type="text" name="ncourse" class="form-control" hidden value="{{needed_course}}" >
</div>

</div>
        <div class="form-row">
<div class="col form-group">
     <label>Grade <span style="color:red">*</span></label>
    <select name="grade" required class="form-control">


    <option   value="0" class="form-control" selected disabled  >Choose Your Grade</option>
    <option   value="1" class="form-control"  >1</option>
    <option   value="2" class="form-control"  >2</option>
    <option   value="3" class="form-control"  >3</option>
    <option   value="4" class="form-control"  >4</option>
    <option   value="5" class="form-control"  >5</option>
    <option   value="6" class="form-control"  >6</option>
    <option   value="7" class="form-control"  >7</option>
    <option   value="8" class="form-control"  >8</option>
    <option   value="9" class="form-control"  >9</option>
    <option  value="10" class="form-control"  >10</option>
    <option  value="11" class="form-control"  >11</option>
    <option  value="12" class="form-control"  >12</option>



        </select>
</div>
    <div class="col form-group">
     <label>Phone Number <span style="color:red">*</span></label>
    <input type="tel" name="phone" class="form-control" pattern="[0-9]{12}" required>

        <small>Format: 971xxxxxxxxx</small>

</div>

</div>
<!--        <div class="form-row">-->
<!--<div class="col form-group">-->
<!--     <label>Adress 1</label>-->
<!--    <input type="text" name="address_line_1" class="form-control" required >-->
<!--</div>-->
<!--    <div class="col form-group">-->
<!--     <label>Adress 2</label>-->
<!--    <input type="text" name="address_line_2" class="form-control" >-->
<!--</div>-->

<!--</div>-->
        <div class="form-row">
            <div class="col form-group">
            <label>Curriculum Type <span style="color:red">*</span></label>
            <select name="Curriculum_type" required class="form-control">


    <option   value="0" class="form-control" selected disabled  >Curriculum Type</option>
    <option   value="General" class="form-control"  >General</option>
    <option   value="Advanced" class="form-control"  >Advanced</option>
    <option   value="Elite" class="form-control"  >Elite</option>
    <option   value="else" class="form-control"  >else</option>

            </select>
            </div>
   <div class="col form-group">
      <label>Semester <span style="color:red">*</span></label>
            <select name="term" required class="form-control">


    <option   value="0" class="form-control" selected disabled  >Semester</option>
    <option   value="1" class="form-control"  >first</option>
    <option   value="2" class="form-control"  >second</option>
    <option   value="3" class="form-control"  >Third</option>
            </select>
             </div>

</div>
         <div class="form-row">

               <div class="col form-group">

             <label> Notes</label>
             <textarea name="order_note" rows="2" class="form-control" ></textarea>
             </div>
              </div>

</div>
</div> <!-- card.// -->

	</aside> <!-- col.// -->
	<aside class="col-lg-6">


		<div class="card">
		<div class="card-body">
            <section id="pricing" class="pricing">
      <div class="container " data-aos="fade-up">

        <div class="row">

              <div class="col-lg-6 col-md-6 mt-4 mt-md-0">
            <div class="box featured">
              <h3 >{{needed_course}} </h3>
                <input hidden required name="needed_course_id" value="{{needed_course_id}}">
                <h4><sup>AED</sup>{{price}}<span> {{lessons}}/ class{{ lessons|pluralize:"es" }}</span></h4>
                <label hidden id="price" set="{{price}}"> </label>
                <label hidden id="lesson" set="{{lessons}}"> </label>
                <ul>
                    <li >  <strong style="color:red"> Total price with 5% tax:<output name="total" for="quantity">{{price}} </output> AED</strong></li>
                    <li> <strong style="color:red">Total lessons:<output name="total_classes" for="quantity">{{lessons}}</output> class{{ lessons|pluralize:"es" }}</strong></li>

                </ul>

                  <div class="form-row ">
                <div class="col form-group ">
                <label> quantity  <span style="color:red">*</span></label>
                <input type="number"  name="quantity" class="form-control" min="1" step="1" value="1" required pattern="[1-9]" id="quantity" style="width:95% ;">
                </div>
                  </div>

            </div>
          </div>
        </div>
            </section>

<!--<table class="table table-borderless table-shopping-cart">-->
<!--<thead class="text-muted">-->
<!--<tr class="small text-uppercase">-->
<!--  <th scope="col">course</th>-->
<!--  <th scope="col" width="120">Quantity</th>-->
<!--  <th scope="col" width="120">Price</th>-->
<!--&lt;!&ndash;  <th scope="col" class="text-right" width="200"> </th>&ndash;&gt;-->
<!--</tr>-->
<!--</thead>-->

<!--<tbody>-->

<!--<tr>-->
<!--	<td>-->
<!--		<figure class="itemside align-items-center">-->
<!--			<div class="aside"><img src="{{needed_course.img.url}}" class="img-sm"></div>-->
<!--			<figcaption class="info">-->
<!--				<a href="" class="title text-dark">{{ needed_course }}</a>-->
<!--				<p class="text-muted small">-->

<!--					<br>-->


<!--				</p>-->
<!--			</figcaption>-->
<!--		</figure>-->
<!--	</td>-->
<!--	<td>-->
<!--		<h5>{{cart_item.quantity}} </h5>-->

<!--	</td>-->
<!--	<td>-->
<!--		<div class="price-wrap">-->
<!--			<var class="price">${{cart_item.sub_total}}</var>-->
<!--			<small class="text-muted"> ${{cart_item.product_busket_item.product_price}} each </small>-->
<!--		</div> &lt;!&ndash; price-wrap .// &ndash;&gt;-->
<!--	</td>-->

<!--</tr>-->

<!--</tbody>-->

<!--</table>-->

            <button class="btn btn-danger btn-block" type="submit" name="submit"> Buy Now</button>
			<a href="{%url 'courses'%}" class="btn btn-light btn-block">Continue Shopping</a>
		</div> <!-- card-body.// -->
               </form>
		</div> <!-- card.// -->

</aside> <!-- col.// -->


</div> <!-- row.// -->
<!-- ============================ COMPONENT 1 END .// ================================= -->

</div> <!-- container .//  -->
</section>
<script>
    var dw = document.getElementById('quantity');
dw.onchange = function(){
var cur = this.value,
tocur = document.getElementById('price').getAttribute('set'),output = document.getElementsByTagName('output')[0];
var res = Math.floor(tocur * cur );
total_classes = document.getElementById('lesson').getAttribute('set'),outputt = document.getElementsByTagName('output')[1];
var ress = Math.floor(total_classes * cur );
output.innerHTML = res +(res* 0.05);
outputt.innerHTML = ress;
}



</script>
{% endblock %}
